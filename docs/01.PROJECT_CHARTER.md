`/docs/PROJECT_CHARTER.md`

---

## Project Title

**Legacy PHP Monolith Modernization Analyzer (Local-First Static Analysis Tool)**

---

## 1. Problem Statement

Organizations maintain legacy PHP monoliths that:

* Lack documentation
* Have unknown dependency structures
* Contain tightly coupled components
* Mix business logic and database access
* Are risky to refactor without system visibility

Manual analysis is:

* Time-consuming
* Error-prone
* Non-reproducible

There is no lightweight, local-first tool that:

* Parses PHP code using AST
* Builds dependency graphs
* Detects database hotspots
* Suggests modernization extraction candidates
* Simulates component removal impact

---

## 2. Project Objective

Build a **local-first static analysis tool** that:

1. Parses legacy PHP source code using AST (nikic/php-parser)
2. Extracts classes, functions, dependencies, and DB interactions
3. Builds a dependency graph
4. Calculates risk and extraction priority scores
5. Generates modernization artifacts:

   * Extraction candidates
   * Strangler Fig roadmap
   * Blast radius simulation
   * OpenAPI stub generation (future phase)

All processing must run locally in Docker.

---

## 3. Scope

### Included

* Static AST analysis (no runtime execution)
* PHP 7/8 compatible parsing
* Dependency graph generation
* Database interaction detection (heuristic-based)
* Risk scoring model
* Extraction candidate ranking
* Local visualization (Streamlit)
* JSON export artifacts

---

### Explicitly Excluded

* Runtime profiling
* Dynamic code execution analysis
* Full ORM introspection
* Live database connection
* Automatic code refactoring
* Cloud-based scanning
* Support for non-PHP languages

---

## 4. Success Criteria

### Functional

* Parses ≥ 1,000 PHP files successfully
* Detects ≥ 85% of DB access points (precision target)
* Builds accurate dependency graph
* Identifies high-risk nodes correctly in validation dataset

### Performance

* ≤ 60 seconds for 1,000 files (target benchmark)
* Memory usage within Docker < 1GB

### Usability

* One-command Docker startup
* Minimal configuration
* Clear visualization of risk and dependencies

---

## 5. Constraints

* Must run locally (no cloud dependency)
* Must work in Docker
* Must avoid modifying target codebase
* Must not leak credentials
* Must operate via static analysis only

---

## 6. Risks & Mitigation

| Risk                            | Impact             | Mitigation                |
| ------------------------------- | ------------------ | ------------------------- |
| Dynamic includes break analysis | Partial graph      | Document limitations      |
| False DB detection              | Inaccurate scoring | Validation dataset tuning |
| Large codebases slow parsing    | UX degradation     | Parallelization + caching |
| PHP version incompatibility     | Parse failure      | Pin parser version        |

---

## 7. Stakeholders

* Project author (primary developer)
* Academic supervisor
* Future collaborators
* End users: developers modernizing PHP systems

---

## 8. Deliverables

* Dockerized application
* AST parser module
* Analysis engine
* Visualization dashboard
* Evaluation report (precision/recall)
* Demonstration dataset